<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>2017/7/30lesson | aKer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="新App上传上传碰见这事：构建的版本上去了，也出现在构建版本里面，不过过没一会就消失了。由于邮箱什么的都不在我这，过了好久才想起来，用的另一个邮箱，于是去看看有没有什么说明： 1234567891011121314Dear developer,We have discovered one or more issues with your recent delivery for &amp;quot;Colo">
<meta property="og:type" content="article">
<meta property="og:title" content="2017&#x2F;7&#x2F;30lesson">
<meta property="og:url" content="https://akerdi.github.io/2017/07/30/2017-7-30lesson/index.html">
<meta property="og:site_name" content="aKer">
<meta property="og:description" content="新App上传上传碰见这事：构建的版本上去了，也出现在构建版本里面，不过过没一会就消失了。由于邮箱什么的都不在我这，过了好久才想起来，用的另一个邮箱，于是去看看有没有什么说明： 1234567891011121314Dear developer,We have discovered one or more issues with your recent delivery for &amp;quot;Colo">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2023-03-07T09:24:38.367Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2017&#x2F;7&#x2F;30lesson">
<meta name="twitter:description" content="新App上传上传碰见这事：构建的版本上去了，也出现在构建版本里面，不过过没一会就消失了。由于邮箱什么的都不在我这，过了好久才想起来，用的另一个邮箱，于是去看看有没有什么说明： 1234567891011121314Dear developer,We have discovered one or more issues with your recent delivery for &amp;quot;Colo">
  
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightBlock(block);
      });
    });
  </script>
  <link rel="stylesheet" href="/css/index.css">
</head>
</html>
<body style="


  background-color: #eff0f6

">
  <div id="container">
    <nav id="nav">
  <header class="header">
    <a href="/" class="title">Clover Tuan</a>
  </header>
  <div class="ctnWrap">
    <div class="icons">
      
        
          
            <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn iconfont icon-dribbble"></a>
          
        
          
            <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn iconfont icon-behance"></a>
          
        
          
            <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn iconfont icon-lofter"></a>
          
        
          
            <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn iconfont icon-instagram"></a>
          
        
          
            <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn iconfont icon-github"></a>
          
        
      
    </div>
    <div class="menu">
      
        
            <a href="/" class="nav-menu ">HOME</a>
          
        
            <a href="/archives" class="nav-menu ">ARCHIVE</a>
          
        
            <a href="/about" class="nav-menu ">ABOUT</a>
          
        
      
    </div>
  </div>
</nav>
    <div id="main"><section class="article">
  <h2 class="title">2017/7/30lesson</h2>
  <p class="sub">Jul 30, 2017</p>
  <article class="content">
    <h3 id="新App上传"><a href="#新App上传" class="headerlink" title="新App上传"></a>新App上传</h3><p>上传碰见这事：构建的版本上去了，也出现在构建版本里面，不过过没一会就消失了。由于邮箱什么的都不在我这，过了好久才想起来，用的另一个邮箱，于是去看看有没有什么说明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Dear developer,</span><br><span class="line">We have discovered one or more issues with your recent delivery for &quot;Color Saga - Coloring book&quot;. To process your delivery, the following issues must be corrected:</span><br><span class="line">Non-public API usage:</span><br><span class="line">The app references non-public symbols in XXT: _UICreateCGImageFromIOSurface</span><br><span class="line">If method names in your source code match the private Apple APIs listed above, altering your method names will help prevent this app from being flagged in future submissions. In addition, note that one or more of the above APIs may be located in a static library that was included with your app. If so, they must be removed.</span><br><span class="line">If you think this message was sent in error and that you have only used Apple-published APIs in accordance with the guidelines, send the app&apos;s nine-digit Apple ID, along with detailed information about why you believe the above APIs were incorrectly flagged, to appreview@apple.com. For further information, visit the Technical Support Information page.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSCalendarsUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSPhotoLibraryUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSBluetoothPeripheralUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSMicrophoneUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSMotionUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Once these issues have been corrected, you can then redeliver the corrected binary.</span><br><span class="line">Regards,</span><br><span class="line">The App Store team</span><br></pre></td></tr></table></figure>
<p>然后就找到这篇文章，唉，，Reavel我按照教程，说不出问题了呀，但还是出这个问题了。</p>
<p><a href="http://www.cnblogs.com/WayneLiu/p/5251565.html" target="_blank" rel="noopener">http://www.cnblogs.com/WayneLiu/p/5251565.html</a></p>
<h3 id="YTKNetWork-在cacheData-时出错"><a href="#YTKNetWork-在cacheData-时出错" class="headerlink" title="YTKNetWork 在cacheData 时出错"></a>YTKNetWork 在cacheData 时出错</h3><p>缘由是cacheData数据没有在拿到缓存之后继续跟服务器获取，查到<a href="https://github.com/yuantiku/YTKNetwork/issues/106" target="_blank" rel="noopener">https://github.com/yuantiku/YTKNetwork/issues/106</a><br>处理为下例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">XXHomeCateListApi *cateListApi = [[XXHomeCateListApi alloc]initWithData:@&#123;@&quot;category_id&quot;:self.cateModel.id,@&quot;start&quot;:input,@&quot;category_name&quot;:self.cateModel.name&#125;];</span><br><span class="line">if ([cateListApi loadCacheWithError:nil]) &#123;</span><br><span class="line">[self requestSuccessWithapi:cateListApi subscriber:subscriber];</span><br><span class="line">&#125;</span><br><span class="line">cateListApi = [[XXHomeCateListApi alloc]initWithData:@&#123;@&quot;category_id&quot;:self.cateModel.id,@&quot;start&quot;:input,@&quot;category_name&quot;:self.cateModel.name&#125;];</span><br><span class="line">[cateListApi startWithoutCache];</span><br><span class="line">[cateListApi startWithCompletionBlockWithSuccess:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">&#125; failure:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h3 id="InAPPPurchase"><a href="#InAPPPurchase" class="headerlink" title="InAPPPurchase"></a>InAPPPurchase</h3><p>这几天有做内购遇到的问题</p>
<ul>
<li>首先是刚进入先确认一次内购金额和手机当前货币的对比，保存该数据（如果没有获取到则显示默认的美金金额）如</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">+(void)queryProductMoney&#123;</span><br><span class="line">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class="line">NSArray *googsArray = @[@&quot;0&quot;,@&quot;1&quot;,@&quot;12&quot;];</span><br><span class="line">NSSet *products = [NSSet setWithArray:googsArray];</span><br><span class="line">[[RMStore defaultStore] requestProducts:products success:^(NSArray *products, NSArray *invalidProductIdentifiers) &#123;</span><br><span class="line">NSLog(@&quot;Products loaded&quot;);</span><br><span class="line">NSMutableDictionary *priceDic = [@&#123;&#125; mutableCopy];</span><br><span class="line">[products enumerateObjectsUsingBlock:^(SKProduct*  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</span><br><span class="line">LxDBAnyVar(obj);</span><br><span class="line">NSString *str = [XXPurchaseRequest currencyPriceWithProduct:obj];</span><br><span class="line">[priceDic setObject:str forKey:obj.productIdentifier];</span><br><span class="line">&#125;];</span><br><span class="line">[USERDEFAULT setObject:priceDic forKey:kAPPProduct];</span><br><span class="line">&#125; failure:^(NSError *error) &#123;</span><br><span class="line">&#125;];</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样便能显示出你当前要展示的加个信息了。</p>
<ul>
<li>关于内购时省查最严的就是More Info这个关键词。More Info 填写在有持续性扣费，会更加严格，我们当时在“Mine APP” 备注加上<br><code>we have the purchase info at setting page ,click the &quot;Subscription FAQ&quot;&amp;&quot;About&quot; which user purchase info is display there. when user is about to pay, there have a button name &quot;more info&quot; , user can get enough help with that.</code></li>
</ul>
<p>然后在相应位置提供more info。特么注明要有如以下词汇：改词汇来自“ColorSaga”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ColorSaga Premium</span><br><span class="line">- With ColorSaga Premium you can subscribe for daily new picture updates and unlimited access to the full picture catalog</span><br><span class="line">- You&apos;ll be able to access all available pictures</span><br><span class="line">- The subscriptions are $2.99 USD weekly, $7.99 USD monthly and $39.99 USD annually or equal to the same price tier that &quot;Apple&apos;s App Store Matrix&quot; determines in other currencies.</span><br><span class="line">- You may cancel a subscription or free-trial anytime via the subscription setting through your iTunes account. This must be done 24 hours before the end of the free-trial or subscription period to avoid being charged.</span><br><span class="line">- Subscription automatically renews unless auto-renew is turned off at least 24-hours before the end of the current period. No cancellation of the current subscription is allowed during active subscription period. Any unused portion of a free-trial period, will be forfeited when the user purchases a ColorSaga Premium</span><br><span class="line"></span><br><span class="line">Terms of use: http://d.fenfenriji.com/colorx/html/termsOfService.html</span><br><span class="line">Privacy policy: http://d.fenfenriji.com/colorx/html/privacyPolicy.html</span><br></pre></td></tr></table></figure>
<ul>
<li>技术支持URL</li>
</ul>
<p>可以使用github 网址或者博客网址，但是一定要有两个因素：1，该为为xxx提供技术支持 2，该含有联系电话或联系邮箱</p>
<ul>
<li>在上线一两天之后开始做一次应用购买以提升曝光率。小技巧</li>
</ul>
<p>应用如果有付费情况，然后过几天之后就解开，那么会有一些网站给该应用写报道，称限免应用，这样会出现一波高增长。</p>
<h3 id="CaLayer-drawInContext-绘图方法，出现-lt-Error-gt-CGContextSetFlatness-invalid-context-0x0-If-you-want-to-see-the-backtrace-please-set-CG-CONTEXT-SHOW-BACKTRACE-environmental-variable"><a href="#CaLayer-drawInContext-绘图方法，出现-lt-Error-gt-CGContextSetFlatness-invalid-context-0x0-If-you-want-to-see-the-backtrace-please-set-CG-CONTEXT-SHOW-BACKTRACE-environmental-variable" class="headerlink" title="CaLayer drawInContext 绘图方法，出现&lt;Error&gt;: CGContextSetFlatness: invalid context 0x0. If you want to see the backtrace, please set CG_CONTEXT_SHOW_BACKTRACE environmental variable."></a>CaLayer drawInContext 绘图方法，出现<code>&lt;Error&gt;: CGContextSetFlatness: invalid context 0x0. If you want to see the backtrace, please set CG_CONTEXT_SHOW_BACKTRACE environmental variable.</code></h3><p>在<code>-(void)drawInContext:(CGContextRef)ctx</code>方法开始第一句加上<code>UIGraphicsPushContext(ctx);</code>，因为当前绘图上下文在上层</p>
<h3 id="UIColor-colorWithPattern-gt-提供一个图"><a href="#UIColor-colorWithPattern-gt-提供一个图" class="headerlink" title="UIColor colorWithPattern-&gt;提供一个图"></a>UIColor colorWithPattern-&gt;提供一个图</h3><p>最近在做绘图工具，思考要一个东西。即要画一个有texture layer的图，没法输入。一开始有想法说在layer的contents，将图片叠加之后的image填为contents，后来重新看到这个方法即想到了，我可以使用color 的其中一个方法colorWithPattern的方法得到texture 图了。</p>
<h3 id="上海办理公积金"><a href="#上海办理公积金" class="headerlink" title="上海办理公积金"></a>上海办理公积金</h3><p>由于公积金可以付房租，对于待上海人来说能缓解很大很大的压力。这里给出前几天去办理大概过程。<br>地点：##汉中路120号##。地铁下来之后找到#汉中路#出口，走上楼梯之后往右走。大概100米有个不是门的小入口有一个向上的logo，写着上二楼。<br>上二楼之后填写两张表格，记得人多先取等号机。<br>需要的材料：<br>(结婚)结婚证、两人一起去(看情况，那次老婆先去也办成功，尽量一起去吧)、身份证、银行卡(上海银行卡、办理支行,作用是到时办理人员要刷一下)、手机；<br>未结婚的话，除去结婚证其他同样；<br>金额：每人（每户）最多2000，按季度发放，家庭办理一个之后，扣完款没有余额了才能办理另一个人的；<br>办理成功大概需要半个月；<br>上班时间：上午9点到11点40左右 下午一点半到4点半左右；</p>
<h3 id="通过越狱机iFile-导出手机数据"><a href="#通过越狱机iFile-导出手机数据" class="headerlink" title="通过越狱机iFile 导出手机数据"></a>通过越狱机iFile 导出手机数据</h3><p>由于手机不是完美越狱，很久没更新，导入导出数据都巨麻烦。这里提供一个思路。由于iFunbox提供导入导出路径在Home 的Media文件目录。<br>首先，app 路径在/var/containers/Bundle/Application 里面找到自己要的数据，右上角Edit，右下角Copy。然后点击中间的Home键，翻到Media目录，Paste。<br>在电脑使用iFunbox 到Media目录，然后导出改文件。导入文件也同理反操作。</p>

  </article>
  <footer class="f-cf">
    
      <a href="/2017/08/24/2017-08-24lesson/" class="link f-fl">⟵2017/08/24lesson</a>
    
    
      <a href="/2017/07/09/2017-0709lesson/" class="link f-fr">2017/0709lesson⟶</a>
    
  </footer>
</section></div>
    <footer id="footer" class="f-cf">
  d.guangying@foxmail.com
  
    
      
        · <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn">Dribbble</a>
      
    
      
        · <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn">Behance</a>
      
    
      
        · <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn">Lofter</a>
      
    
      
        · <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn">Instagram</a>
      
    
      
        · <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn">GitHub</a>
      
    
  
  <span class="copyright">All rights reserved @Clover Tuan</span>
</footer>
  </div>
</body>
</html>