<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>2019-3-25lesson | aKer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="安装黑苹果制作黑苹果至关重要的一步：选对硬件示例操作硬件：  cpu: i7 8700k (不要用AMD，不好装) \motherboard: Gigabyte Z370HD3P (推荐) \显卡: 独显 GTX 1050ti (推荐Rx560，拆机显卡不贵，不知道链接问本人)  好了，如果你是这硬件，你就完成80%了，否则移步tonymacx86找找对应硬件的配置等。安装步骤都是一样，配置和驱动">
<meta property="og:type" content="article">
<meta property="og:title" content="2019-3-25lesson">
<meta property="og:url" content="https://akerdi.github.io/2019/04/25/2019-3-25lesson/index.html">
<meta property="og:site_name" content="aKer">
<meta property="og:description" content="安装黑苹果制作黑苹果至关重要的一步：选对硬件示例操作硬件：  cpu: i7 8700k (不要用AMD，不好装) \motherboard: Gigabyte Z370HD3P (推荐) \显卡: 独显 GTX 1050ti (推荐Rx560，拆机显卡不贵，不知道链接问本人)  好了，如果你是这硬件，你就完成80%了，否则移步tonymacx86找找对应硬件的配置等。安装步骤都是一样，配置和驱动">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2023-03-07T09:24:38.372Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2019-3-25lesson">
<meta name="twitter:description" content="安装黑苹果制作黑苹果至关重要的一步：选对硬件示例操作硬件：  cpu: i7 8700k (不要用AMD，不好装) \motherboard: Gigabyte Z370HD3P (推荐) \显卡: 独显 GTX 1050ti (推荐Rx560，拆机显卡不贵，不知道链接问本人)  好了，如果你是这硬件，你就完成80%了，否则移步tonymacx86找找对应硬件的配置等。安装步骤都是一样，配置和驱动">
  
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightBlock(block);
      });
    });
  </script>
  <link rel="stylesheet" href="/css/index.css">
</head>
</html>
<body style="


  background-color: #eff0f6

">
  <div id="container">
    <nav id="nav">
  <header class="header">
    <a href="/" class="title">Clover Tuan</a>
  </header>
  <div class="ctnWrap">
    <div class="icons">
      
        
          
            <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn iconfont icon-dribbble"></a>
          
        
          
            <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn iconfont icon-behance"></a>
          
        
          
            <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn iconfont icon-lofter"></a>
          
        
          
            <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn iconfont icon-instagram"></a>
          
        
          
            <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn iconfont icon-github"></a>
          
        
      
    </div>
    <div class="menu">
      
        
            <a href="/" class="nav-menu ">HOME</a>
          
        
            <a href="/archives" class="nav-menu ">ARCHIVE</a>
          
        
            <a href="/about" class="nav-menu ">ABOUT</a>
          
        
      
    </div>
  </div>
</nav>
    <div id="main"><section class="article">
  <h2 class="title">2019-3-25lesson</h2>
  <p class="sub">Apr 25, 2019</p>
  <article class="content">
    <h1 id="安装黑苹果"><a href="#安装黑苹果" class="headerlink" title="安装黑苹果"></a>安装黑苹果</h1><h3 id="制作黑苹果至关重要的一步：选对硬件"><a href="#制作黑苹果至关重要的一步：选对硬件" class="headerlink" title="制作黑苹果至关重要的一步：选对硬件"></a>制作黑苹果至关重要的一步：选对硬件</h3><p>示例操作硬件：</p>
<blockquote>
<p>cpu: i7 8700k (不要用AMD，不好装) \<br>motherboard: Gigabyte Z370HD3P (推荐) \<br>显卡: 独显 GTX 1050ti (推荐Rx560，拆机显卡不贵，不知道链接问本人)</p>
</blockquote>
<p>好了，如果你是这硬件，你就完成80%了，否则移步<a href="https://www.tonymacx86.com/" target="_blank" rel="noopener">tonymacx86</a>找找对应硬件的配置等。安装步骤都是一样，配置和驱动不同而已。</p>
<h3 id="准备材料"><a href="#准备材料" class="headerlink" title="准备材料"></a>准备材料</h3><ol>
<li>苹果官网下的一个.dmg 系统文件。(比如high sierra 10.13.6)</li>
<li>一个16G左右U盘(系统盘大约6G 左右)</li>
<li><a href="https://sourceforge.net/projects/cloverefiboot/" target="_blank" rel="noopener">Clover EFI bootloader 下载地址</a></li>
<li><a href="https://mackie100projects.altervista.org/download-clover-configurator/" target="_blank" rel="noopener">Clover configuration 下载地址</a></li>
</ol>
<p>本教程默认使用Mac 环境下操作，制作U盘；Windows 操作google之，步骤类似。<br>本教程为纯净版Vanilla 方法(大神取得名字)至简安装方案.</p>
<h3 id="生成U盘启动器"><a href="#生成U盘启动器" class="headerlink" title="生成U盘启动器"></a>生成U盘启动器</h3><h4 id="下载对应系统"><a href="#下载对应系统" class="headerlink" title="下载对应系统"></a>下载对应系统</h4><p><a href="https://pan.baidu.com/s/1Ujfi8X6hBDuQVlSWuulNbw" target="_blank" rel="noopener">百毒云 10.13.6 下载地址</a>(下载慢找我，不要花钱买百毒云会员)</p>
<p>双击系统.dmg 文件，安装成为app，移到/finder/Applications</p>
<h4 id="制作U盘启动器-白苹果U盘启动器"><a href="#制作U盘启动器-白苹果U盘启动器" class="headerlink" title="制作U盘启动器(白苹果U盘启动器)"></a>制作U盘启动器(白苹果U盘启动器)</h4><p>打开-Mac磁盘工具，点击顶部<strong>显示所有设备</strong>，找到你的U盘，点击<strong>抹掉</strong></p>
<ol>
<li>U盘取名macinstaller</li>
<li>格式为Mac OS Extended(Journaled) -&gt; Mac OS 拓展(日志式)</li>
<li>方案: GUID分区图</li>
</ol>
<p>完成后退出</p>
<p>打开terminal</p>
<blockquote>
<p>sudo ${系统.app 拖到此处}/Contents/Resources/createinstallmedia –volume /Volumes/macinstaller</p>
</blockquote>
<p>前面是系统盘制作路径，后面volume 空间是抹掉取名为macinstaller 的U盘路径</p>
<p>然后就是开始加载，时间比较久，直到出现<code>Install media now available at &quot;/Volumes/Install macOS high sierra&quot;</code></p>
<h4 id="黑苹果引导Clover"><a href="#黑苹果引导Clover" class="headerlink" title="黑苹果引导Clover"></a>黑苹果引导Clover</h4><p>之前制作白苹果步骤完成。下面使用Clover 转黑苹果</p>
<p><a href="https://sourceforge.net/projects/cloverefiboot/" target="_blank" rel="noopener">Clover EFI bootloader 下载地址</a></p>
<p>点击下载的Clover</p>
<ol>
<li>介绍 - 继续</li>
<li>请先阅读 - 继续</li>
<li>目的宗卷 - 更改安装位置：选择我们的白苹果U盘</li>
<li>安装类型 - 安装</li>
<li>安装 - 选择(仅安装UEFI 开机版本、安装Clover 到EFI 系统区)(UEFI Drivers 下拉仅选择VBoxHfs-64、ApfsMemoryFix-64、AptioMemoryFix-64) ,其他都不选；然后点击安装</li>
<li>安装完成关闭</li>
</ol>
<h4 id="config-plist"><a href="#config-plist" class="headerlink" title="config.plist"></a>config.plist</h4><p><a href="https://mackie100projects.altervista.org/download-clover-configurator/" target="_blank" rel="noopener">Clover configuration 下载地址</a></p>
<ol>
<li>Mount EFI - Efi Partitions - U盘分区 - 点击Mount Partition 并输入电脑密码</li>
<li>Mount EFI - Efi Partitions - U盘分区 - 点击Open Partition 打开文件夹</li>
<li>EFI - CLOVER - config.plist 使用Clover configuration 打开</li>
<li>Kexts Installer - OS Version下拉选择Other</li>
<li>Kexts Installer - 选择Lilu、WhateverGreen、FakeSMC 点击下载</li>
<li>步骤【5】下载完弹出框，选中全部的5个传感器全部install</li>
<li><a href="https://github.com/corpnewt/Hackintosh-Guide/blob/master/Configs/CoffeeLake/config.plist" target="_blank" rel="noopener">新的config.plist</a>替换现在U盘Mount的EFI - CLOVER - config.plist</li>
<li>clover configuration 打开U盘的Mount的EFI</li>
<li>SMBIOS 选择iMac17.1</li>
</ol>
<p>U盘启动器至此全部完成</p>
<h3 id="安装黑苹果-1"><a href="#安装黑苹果-1" class="headerlink" title="安装黑苹果"></a>安装黑苹果</h3><h4 id="BIOS设置"><a href="#BIOS设置" class="headerlink" title="BIOS设置"></a>BIOS设置</h4><blockquote>
<p>Intel Virtualization Technology: Enabled (docker 要用) \<br>Vt-d:disable<br>XHCI Handoff: enabled (不然USB 等设备没法识别) \<br>Fast Boot: Disabled \<br>Secure Boot/OS Type: Other OS (有就选) \<br>SATA to AHCI \<br>Boot 启动使用U盘 Partition</p>
</blockquote>
<h4 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h4><ol>
<li>在Clover 引导界面选择名为<code>Boot macOS Install from macOS high sierra</code>(默认第一个)</li>
<li>安装进入verbose 啰嗦模式</li>
<li>会自动重启几次</li>
<li>之后进入macOS Utilities(macOS 使用工具)</li>
<li>使用磁盘工具抹掉磁盘</li>
<li>点击顶部<strong>显示所有设备</strong>，找到你要安装硬盘，点击抹掉：名字取macos；类型：【1】 U盘取名macinstaller【2】 格式为Mac OS Extended(Journaled) -&gt; Mac OS 拓展(日志式)【3】 方案: GUID分区图</li>
<li>回到macOS Utilities 界面，选择Install macOS</li>
<li>【确定】【确定】之后，选择你要安装的安装盘macos</li>
<li>安装过程会重启几次，确保从硬盘启动而不是U盘启动(默认帮你选好了，确定下即可)</li>
</ol>
<h4 id="选择国家界面"><a href="#选择国家界面" class="headerlink" title="选择国家界面"></a>选择国家界面</h4><p>选中国</p>
<p>然后一直点下一步，能跳过则跳过。之后再设置。</p>
<p>创建电脑账户(这个名字一定要取好，之后不好改；有mac 系统的大bug)</p>
<h4 id="替换U盘启动EFI-至硬盘启动EFI"><a href="#替换U盘启动EFI-至硬盘启动EFI" class="headerlink" title="替换U盘启动EFI 至硬盘启动EFI"></a>替换U盘启动EFI 至硬盘启动EFI</h4><ol>
<li>clover configuration - Mount EFI - 挂载Mount U盘、macOS 的EFI分区</li>
<li>将U盘的EFI 整个替换硬盘的EFI文件夹</li>
</ol>
<h4 id="拔出U盘-重启启动"><a href="#拔出U盘-重启启动" class="headerlink" title="拔出U盘 重启启动"></a>拔出U盘 重启启动</h4><p>Boot 使用硬盘的Partition 启动</p>
<h3 id="查找驱动"><a href="#查找驱动" class="headerlink" title="查找驱动"></a>查找驱动</h3><p>黑苹果难就难在找驱动，通过查找通用驱动为例。</p>
<blockquote>
<p>屏幕左上角🍎 - 关于本机 - 系统报告 查看确实的驱动 \<br>比如缺失以太网卡、音频 \<br>去主板官网确认网卡声卡的型号 \<br>比如Gigabyte z370 HD3P - 产品规格 - 音效 - <strong>内建Realtek@ ALC1220</strong> 那么下载<a href="https://github.com/acidanthera/AppleALC/releases" target="_blank" rel="noopener">AppleALC</a> \<br><a href="https://bitbucket.org/RehabMan/os-x-intel-network/src" target="_blank" rel="noopener">网卡驱动</a></p>
</blockquote>
<p>NVIDIA webDriver驱动可以直接安装对应驱动：<a href="https://www.tonymacx86.com/threads/nvidia-releases-alternate-graphics-drivers-for-macos-high-sierra-10-13-6-387-10-10-10-40.255913/" target="_blank" rel="noopener">NVIDIA webDriver</a></p>
<p>如果是集成显卡UHD Graphics 630：</p>
<ol>
<li>clover configuration打开硬盘EFI - CLOVER - config.plist</li>
<li>Devices &gt; FakeID &gt; IntelGFX = 0x59128086</li>
<li>Graphics &gt; ig-platform-id = 0x59120000</li>
<li>Graphics &gt; 打钩Inject Intel(似乎有点重要,否则还是会闪,显卡7M)</li>
<li>SMBIOS &gt; Select iMac17.1</li>
</ol>
<p>有双屏幕需求的，DVI + HDMI 插上没反应的可以试试：</p>
<ol>
<li>Clover configuration - Graphics - NVCap: 04000000 00000100 0E000000 00000007 00000000</li>
<li>Video Ports: 2</li>
</ol>
<p>关闭啰嗦模式：</p>
<ol>
<li>Boot - Arguments 删除<strong>-v</strong></li>
</ol>
<h4 id="驱动安装方法"><a href="#驱动安装方法" class="headerlink" title="驱动安装方法"></a>驱动安装方法</h4><p>把下载下来的.kext 驱动放到硬盘的EFI - CLOVER - kexts - Other 下，重启即可生效。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://zhuanlan.zhihu.com/p/55256660" target="_blank" rel="noopener">黑苹果麦金塔</a></p>
<p><a href="https://www.tonymacx86.com" target="_blank" rel="noopener">tonymacx86</a></p>
<p><a href="https://blog.daliansky.net/macOS-High-Sierra-10.13.6-17G65-Release-Version-with-Clover-4596-original-mirror.html" target="_blank" rel="noopener">windows 制作mac参考</a></p>
<p><a href="https://www.tonymacx86.com/threads/success-8700k-gigabyte-z370-hd3p-uhd-graphics-630-macos-high-sierra-mojave.239402/" target="_blank" rel="noopener">tonymacx86 - i7 8700k</a></p>
<p><a href="https://www.tonymacx86.com/threads/nvidia-releases-alternate-graphics-drivers-for-macos-high-sierra-10-13-6-387-10-10-10-40.255913/" target="_blank" rel="noopener">tonymacx86 - Nvidia webDriver</a></p>
<p><a href="https://github.com/enify/blog/issues/2" target="_blank" rel="noopener">windows 制作mac参考2</a></p>

  </article>
  <footer class="f-cf">
    
      <a href="/2019/05/10/2019-5-10lesson/" class="link f-fl">⟵2019-5-10lesson</a>
    
    
      <a href="/2019/04/25/2019-4-22lesson/" class="link f-fr">2019-4-22lesson⟶</a>
    
  </footer>
</section></div>
    <footer id="footer" class="f-cf">
  d.guangying@foxmail.com
  
    
      
        · <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn">Dribbble</a>
      
    
      
        · <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn">Behance</a>
      
    
      
        · <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn">Lofter</a>
      
    
      
        · <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn">Instagram</a>
      
    
      
        · <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn">GitHub</a>
      
    
  
  <span class="copyright">All rights reserved @Clover Tuan</span>
</footer>
  </div>
</body>
</html>